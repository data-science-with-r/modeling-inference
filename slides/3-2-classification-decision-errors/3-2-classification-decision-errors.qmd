---
title: "Clasification and decision errors"
format: revealjs
---

```{r}
#| label: setup
#| include: false
ggplot2::theme_set(ggplot2::theme_gray(base_size = 16))
```

## Packages

- **tidyverse** for data wrangling and visualization
- **tidymodels** for modeling

```{r}
#| label: load-packages
#| warning: false
library(tidyverse)
library(tidymodels)
```

# Spam filters

## Is the e-mail spam or not? {.smaller}

::: {.columns}
::: {.column width="20%"}

$\mathbf{x}$: Word and character counts in an e-mail

:::
::: {.column width="50%"}

$$
y
= 
\begin{cases}
1 & \text{it's spam}\\
0 & \text{it's legit}
\end{cases}
$$

:::
:::

::: {.columns}
::: {.column width=70%}
::: email
Subject: Congratulations! You‚Äôve Been Selected for an Exclusive Reward üéÅ

Dear Customer,

You have been chosen as one of our preferred recipients to receive a special complimentary gift. This is our way of thanking you for your continued interest in our services.

To claim your reward, simply complete our short survey. Your participation takes only 60 seconds, and your prize will be shipped at no cost to you.

Click here to start your survey and claim your reward
[Claim Reward Link]

This exclusive offer is available for the next 48 hours only. Don‚Äôt miss your chance to enjoy this limited opportunity.

Warm regards,  
Promotions Team  
Exclusive Rewards Center
:::
:::
::: {.column width=30%}
:::
:::

::: aside
Sample spam email language generated by Chat GPT with the prompt "Generate a fake ‚Äúpromotional‚Äù style spam email that doesn't contain any explicit words."
:::

## Prediction / clssification

|                         | Email is spam       | Email is not spam            |
|-------------------------|---------------------|------------------------------|
| Email labelled spam     | [True positive]{.fragment fragment-index=1}      | [False positive (Type 1 error)]{.fragment fragment-index=3}|
| Email labelled not spam | [False negative (Type 2 error)]{.fragment fragment-index=4} | [True negative]{.fragment fragment-index=2}            |

. . .

- False negative rate = P(Labelled not spam | Email spam) = FN / (TP + FN)

- False positive rate = P(Labelled spam | Email not spam) = FP / (FP + TN)

# Sensitivity and specificity

|                         | Email is spam       | Email is not spam            |
|-------------------------|---------------------|------------------------------|
| Email labelled spam     | True positive       | False positive (Type 1 error)|
| Email labelled not spam | False negative (Type 2 error)| True negative          |

. . .

- Sensitivity = P(Labelled spam | Email spam) = TP / (TP + FN)

  - Sensitivity = 1 ‚àí False negative rate

- Specificity = P(Labelled not spam | Email not spam) = TN / (FP + TN)

  - Specificity = 1 ‚àí False positive rate

. . .

::: task 
If you were designing a spam filter, would you want sensitivity and specificity to be high or low? What are the trade-offs associated with each decision?
:::
